<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Worms Brasil</title>
    <link rel="stylesheet" href="style.css">
    </head>
<body>
    <canvas id="gameCanvas"></canvas>

    <div id="startPanel" class="panel">
        <h1>Worms Brasil</h1>
        <p class="subtitle">Entre na arena</p>

        <div class="form-group">
            <label for="playerName">Seu Nome:</label>
            <div class="input-with-avatar">
                <div class="avatar-placeholder"></div>
                <input type="text" id="playerName" placeholder="Digite seu nome" maxlength="15">
            </div>
        </div>

        <div class="form-group">
            <label>Cor da Cobra:</label>
            <div class="color-picker">
                <button class="color-btn selected available" data-color="#FF0000" style="background-color: #FF0000;"></button>
                <button class="color-btn locked" data-color="#00FF00" style="background-color: #00FF00;"></button> <button class="color-btn locked" data-color="#0000FF" style="background-color: #0000FF;"></button> <button class="color-btn locked" data-color="#FFFF00" style="background-color: #FFFF00;"></button> <button class="color-btn locked" data-color="#FF00FF" style="background-color: #FF00FF;"></button> </div>
        </div>

        <button id="startButton" class="start-btn">Iniciar Jogo</button>

        <button id="openCustomizationBtn" class="icon-btn">üé®</button>

        <div class="high-scores">
            <h2>Melhores Pontua√ß√µes</h2>
            <ul id="highScoresList">
                </ul>
        </div>
    </div>

    <div id="customizationPanel" class="panel hidden">
        <h2>Personaliza√ß√£o</h2>
        <p class="subtitle">Escolha sua cor (ou desbloqueie mais!)</p>

        <div class="customization-color-picker color-picker">
             <label>Cores Dispon√≠veis:</label>
            <button class="color-btn available" data-color="#FF0000" style="background-color: #FF0000;"></button>
            <button class="color-btn locked" data-color="#00FF00" style="background-color: #00FF00;"></button>
            <button class="color-btn available" data-color="#0000FF" style="background-color: #0000FF;"></button>
             <button class="color-btn locked" data-color="#FFFF00" style="background-color: #FFFF00;"></button>
             <button class="color-btn locked" data-color="#FF00FF" style="background-color: #FF00FF;"></button>
            </div>

        <div class="store">
            <h3>Loja de Cores</h3>
            <p class="subtitle">Desbloqueie novas cores aqui!</p>
            <div class="store-color-list color-picker">
                <label>Cores na Loja:</label>
                <button class="color-btn locked" data-color="#FF0000" style="background-color: #FF0000;"></button>
                 <button class="color-btn locked" data-color="#00FF00" style="background-color: #00FF00;"></button>
                 <button class="color-btn locked" data-color="#0000FF" style="background-color: #0000FF;"></button>
                 <button class="color-btn locked" data-color="#FFFF00" style="background-color: #FFFF00;"></button>
                 <button class="color-btn locked" data-color="#FF00FF" style="background-color: #FF00FF;"></button>
                </div>
        </div>

        <button class="close-btn">Fechar</button>
    </div>

    <button id="fullscreenBtn">‚õ∂</button>

    <script>
        // Coment√°rio: Script para alternar a visibilidade dos pain√©is inicial e de personaliza√ß√£o,
        // e para bloquear/desbloquear a orienta√ß√£o da tela em dispositivos suportados QUANDO o modo tela cheia mudar.
        // Ele N√ÉO INICIA o modo tela cheia - essa l√≥gica deve estar no script.js

        const startPanel = document.getElementById('startPanel');
        const customizationPanel = document.getElementById('customizationPanel');
        const openCustomizationBtn = document.getElementById('openCustomizationBtn');
        // Seleciona o bot√£o de fechar DENTRO do painel de personaliza√ß√£o para evitar conflitos
        const closeCustomizationBtn = customizationPanel ? customizationPanel.querySelector('.close-btn') : null; // Verifica se customizationPanel existe

        // Seleciona todos os bot√µes de cor bloqueados APENAS no painel inicial
        const lockedColorBtnsStartPanel = startPanel ? startPanel.querySelectorAll('.color-btn.locked') : []; // Verifica se startPanel existe

        // Fun√ß√£o para mostrar um painel e esconder o outro
        function showPanel(panelToShow) {
            if (startPanel && customizationPanel) { // Verifica se os pain√©is existem
                if (panelToShow === 'start') {
                    startPanel.classList.remove('hidden');
                    customizationPanel.classList.add('hidden');
                } else if (panelToShow === 'customization') {
                    startPanel.classList.add('hidden');
                    customizationPanel.classList.remove('hidden');
                }
            }
        }

        // Oculta o painel de personaliza√ß√£o ao carregar a p√°gina (garante que o inicial apare√ßa primeiro)
        // Verifica se customizationPanel existe antes de adicionar a classe hidden
        if (customizationPanel) {
            customizationPanel.classList.add('hidden');
        }


        // Adicionar ouvintes de evento para alternar pain√©is (verificando se os elementos existem)

        // Bot√£o discreto no painel inicial abre personaliza√ß√£o
        if (openCustomizationBtn) {
            openCustomizationBtn.addEventListener('click', () => {
                showPanel('customization');
            });
        } else {
            // console.error("Bot√£o #openCustomizationBtn n√£o encontrado!"); // Pode remover este erro se for ok que o bot√£o n√£o exista
        }

        // Bot√£o de fechar no painel de personaliza√ß√£o volta para o inicial
         if (closeCustomizationBtn) {
            closeCustomizationBtn.addEventListener('click', () => {
                showPanel('start');
            });
        } else {
             // console.error("Bot√£o .close-btn no #customizationPanel n√£o encontrado!"); // Pode remover este erro
        }

        // Clicar em um bot√£o de cor bloqueado no painel inicial abre a personaliza√ß√£o
        lockedColorBtnsStartPanel.forEach(button => {
            button.addEventListener('click', () => {
                showPanel('customization');
            });
        });


        // L√≥gica para REAGIR √† mudan√ßa de estado de Tela Cheia e gerenciar Orienta√ß√£o
        // Este listener √© disparado quando o navegador ENTRA ou SAI do modo tela cheia
        document.addEventListener('fullscreenchange', () => {
            if (document.fullscreenElement) { // Entrou em tela cheia
                console.log("Entrou em tela cheia. Tentando bloquear orienta√ß√£o...");
                // Tenta bloquear a orienta√ß√£o para paisagem (horizontal)
                if (screen.orientation && screen.orientation.lock) {
                    screen.orientation.lock('landscape').catch(err => {
                        console.warn("Falha ao bloquear orienta√ß√£o para paisagem:", err);
                        // O bloqueio pode falhar se n√£o for suportado ou se houver restri√ß√µes
                    });
                } else {
                    console.warn("API de Orienta√ß√£o de Tela n√£o suportada ou lock n√£o dispon√≠vel.");
                }
            } else { // Saiu de tela cheia
                 console.log("Saiu de tela cheia. Desbloqueando orienta√ß√£o...");
                 // Desbloqueia a orienta√ß√£o
                 if (screen.orientation && screen.orientation.unlock) {
                     screen.orientation.unlock();
                 } else {
                     console.warn("API de Orienta√ß√£o de Tela n√£o suportada ou unlock n√£o dispon√≠vel.");
                 }
            }
        });

        // Coment√°rio: A l√≥gica para INICIAR ou SAIR do modo tela cheia
        // deve permanecer no seu arquivo script.js, atrelada ao clique do #fullscreenBtn.
        // A l√≥gica de sele√ß√£o de cor NO PAINEL DE PERSONALIZA√á√ÉO
        // e a l√≥gica de "desbloqueio" de cores na Loja tamb√©m precisam estar no script.js.


    </script>

    <script src="script.js"></script>
</body>
</html>
